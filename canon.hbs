{{!< default}}

<div class="page-wrapper">
  {{> "general-styling"}}
  {{> "site-nav-es"}}

  <div class="canon-page">
    <div class="global-container">

      <!-- Hero -->
      <div class="rutas-hero">
        <h1 class="rutas-hero-title">Canon 421</h1>
        <p class="rutas-hero-subtitle">Si 421 fuera una biblioteca, estos serian los 25 libros que no se prestan. Los textos que mejor representan lo que hacemos, por que lo hacemos, y como lo hacemos.</p>
      </div>
      <hr class="rutas-gradient-divider">

      <!-- Canon container: JS will populate this -->
      <div id="canon-container" data-json="{{asset "data/rutas.json"}}"></div>

    </div>

    <!-- File Browser -->
    <div class="global-container" style="padding: 3rem 0;">
      {{> "file-browser"}}
    </div>
  </div>

  {{> "site-footer"}}
</div>

{{#get "posts" include="tags,authors" limit="8" filter="slug:[soberania-cognitiva-introduccion-autonomia-psiquica,low-tech-high-life-cottagecore-cyberpunk,guia-cyberciruja-para-la-autodeterminacion-digital,nick-land-aceleracionismo,volverse-ingobernable-peter-sloterdijk,metajuego-que-es,la-ley-secreta-de-las-coincidencias,ingenieria-inversa-a-la-mierdificacion-de-internet]"}}
<div id="first-posts-data" style="display:none">{{#foreach posts}}<div data-slug="{{slug}}" data-url="{{url}}" data-title="{{title}}" data-img="{{feature_image}}" data-tag="{{#if primary_tag}}{{primary_tag.name}}{{/if}}" data-tag-img="{{#if primary_tag}}{{primary_tag.feature_image}}{{/if}}" data-author="{{#if primary_author}}{{primary_author.name}}{{/if}}" data-date="{{published_at}}"></div>{{/foreach}}</div>
{{/get}}

<script>
window.__rutasJson = fetch('{{asset "data/rutas.json"}}').then(function(r){return r.json()});
(function(){var el=document.getElementById('first-posts-data');if(!el)return;var divs=el.children,m={};for(var i=0;i<divs.length;i++){var d=divs[i];m[d.getAttribute('data-slug')]={slug:d.getAttribute('data-slug'),url:d.getAttribute('data-url'),title:d.getAttribute('data-title'),feature_image:d.getAttribute('data-img')||'',primary_tag:{name:d.getAttribute('data-tag')||'',feature_image:d.getAttribute('data-tag-img')||''},primary_author:{name:d.getAttribute('data-author')||''},published_at:d.getAttribute('data-date')||''};}window.__firstPosts=Promise.resolve(m);})();
</script>
<script src="{{asset "js/rutas.js"}}" defer></script>
